<html>
    
    <head>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="doek.js"></script>
        <script src="doek.canvas.js"></script>
        <script src="doek.layer.js"></script>
        <script src="doek.object.js"></script>
        <script src="doek.node.js"></script>
        <script src="doek.event.js"></script>
        <style type="text/css">
            #world {border: 1px solid black;}
        </style>
    </head>
    <body>
        <div id="world" data-width=500 data-height=500></div>
        
        <script>
            var d = new Doek.Canvas('world');
            var gridObject = d.addGrid();
            
            var hoverStyle = new Doek.Style('hover');
            hoverStyle.properties.strokeStyle = '#EE3030';
            gridObject.addStyle(hoverStyle);
            
            var upStyle = new Doek.Style('upped');
            upStyle.properties.strokeStyle = '#101099';
            gridObject.addStyle(upStyle);
            
            gridObject.event.addEvent('mouseMove', function(caller){
                this.applyStyle('hover');
            });
            
            gridObject.event.addEvent('mouseOut', function(caller){
                this.applyStyle('ori');
            });
            
            gridObject.event.addEvent('mousedown', function(caller, payload){
                console.log(payload);
            });
            
            gridObject.event.addEvent('mouseup', function(callernode, payload){
                if (payload.originnode != callernode) {
                    callernode.applyStyle('upped');
                }
                
                console.log(payload);
            });
        </script>
    </body>
</html>
